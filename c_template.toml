[device]
include = '''
#include "${device.name.lower()}\${device.name.lower()}.h"
'''

[device.header]
bottom = '''
#ifdef __cplusplus
}
#endif
#endif // ${device.name.upper()}_H_
'''
top = '''
/**
* @file
* @version ${device.version}
* @brief Register access structs for ${device.vendor} ${device.name}
*
* ${device.description}
*
* @note This file is autogenerated using register-code-gen
*/

#ifndef ${device.name.upper()}_H_
#define ${device.name.upper()}_H_

#ifdef __cplusplus
extern "C" {
#endif

'''

[peripheral]
declaration = '''
extern ${templates.peripheral.type} volatile * ${peripheral.name.upper()};
'''
definition = '''
${templates.peripheral.type} volatile * ${peripheral.name.upper()} = (void *) (0x${peripheral.base_address:08X}UL);
'''
include = '''
#include "${device.name.lower()}\${peripheral.name.lower()}.h"
'''
struct = '${peripheral.derived_from.name.upper()}_peripheral_registers_s'
type = '${peripheral.derived_from.name.upper()}_peripheral_registers_t'

[peripheral.header]
bottom = '''
#ifdef __cplusplus
}
#endif
#endif // ${peripheral.name.upper()}_H_
'''
top = '''
/**
* @file
* @version ${device.version}
* @brief Register access structs for ${device.vendor} ${peripheral.name}
*
* ${peripheral.description}
*
* @note This file is autogenerated using register-code-gen
*/

#ifndef ${peripheral.name.upper()}_H_
#define ${peripheral.name.upper()}_H_

#ifdef __cplusplus
extern "C" {
#endif

#include "static_assert.h"

#include <stdint.h>

'''

[peripheral.structure]
bottom = '''
} ${templates.peripheral.type};
'''
top = '''
/**
* ${peripheral.description}
*/
typedef struct ${templates.peripheral.struct} {
'''

[register]
definition = '''
///${register.description}
${peripheral.name.upper()}_${register.name.lower()}_t ${register.name.lower()};
'''
offset_assert = '''
STATIC_ASSERT_MEMBER_OFFSET(${templates.peripheral.type}, ${register.name.lower()}, 0x${register.address_offset:02X});
'''
